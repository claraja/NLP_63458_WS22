

\subsection{Vergleich der manuell und vom MedExtractor erstellten RDF-Dateien}
\label{subsec:RDF-Vergleich} 

Zur Evaluierung des Systems wurden von zehn der verwendeten Texte manuelle RDF-Dateien erstellt, um diese mit dem vom MedExtractor erstellten RDF-Dateien zu vergleichen. 

Da der MedExtractor Krankheiten Symptome zuordnet, wurden ebenso bei der manuellen Dateierstellung aus den Texten Symptome ausgewählt, die in die RDF-Dateien aufgenommen wurden. Diese manuelle Erstellung erfordert jedoch Augenmaß, da es kein absolutes Kriterium dafür gibt, was als Symptom einer Krankheit anzusehen ist. Insbesondere enthalten die Arbeitstexte häufig Konjunktionen wie „feeling irritable and intolerant of others“, die an sich als zwei separate Symptome „feeling irritable“ sowie „feeling intolerant of others“ zu betrachten sind. Da der MedExtractor regelbasiert arbeitet und keine Funktionalität enthält, die den Bezug zwischen „feeling“ und dem hinter der Konjunktion folgenden „intolerant of others“ herstellen könnte, wurden Gesamtwortgruppen in die manuellen RDF-Dateien aufgenommen mit dem Risiko, dass nur ein Teil der Wortgruppen erkannt wird.

Zur Auswertung wurden die erstellten Dateien mittels des \\
Jupyter-Notebooks unter /Notebooks/compare\_rdfs2.ipynb miteinander verglichen und Precision (Genauigkeitsquote) und Recall (Vollständigkeitsquote) ermittelt:

\[ Precision = \frac{True\ Positive}{True\ Positive + False\ Positive} \]

\[ Recall = \frac{True\ Positive}{True\ Positive + False\ Negative} \]

Dabei wurden diese Werte wie folgt berechnet:
\begin{itemize}
\item True Positive: als korrekt gefundene Symptome wurden Symptome gewertet, die der MedExtractor erkannt hat und die in der vom MedExtractor erkannten Form einer Teilzeichenkette eines manuell aufgenommenen Symptoms entsprechen. 
\item False Positive: als falsch gefundene Symptome wurden Symptome gewertet, die der MedExtractor erkannt hat und die in der vom MedExtractor erkannten Form keiner Teilzeichenkette eines manuell aufgenommenen Symptoms entsprechen.
\item False Negative: als nicht gefundene Symptome wurden Symptome gewertet, die manuell aufgenommenen wurden, vom MedExtractor jedoch nicht (auch nicht in Form einer Teilzeichenkette) erkannt wurden.
\end{itemize}

Häufig wird bei derartigen Auswertungen auch die Anzahl der True Negatives ermittelt, um aus allen vier Werten eine gemeinsame Übersicht als Konfusionsmatrix aufstellen zu können. Dies würde im vorliegenden Fall jedoch eine Aufstellung aller möglichen Krankheitssymptome erfordern, die nicht Symptom einer bestimmten Erkrankung sind. Dies erscheint unpraktikabel und daher wurde auf die Ermittlung der True Negatives und die Aufstellung einer Konfusionsmatrix verzichtet.

Precision und Recall lassen sich zum F-Maß kombinieren, um die Qualität des Information Retrieval in einer einzigen Kennzahl wiederzugeben. Das F-Maß berechnet sich wie folgt:

\[ F =  2\cdot\frac{Precision\cdot Recall }{Precision + Recall} \]

\begin{table}
\begin{center}
\begin{tabular}{ll}
\toprule
                      Manuell extrahiertes Symptom &       MedExtractor-Symptom(e) \\
\midrule
             not getting any enjoyment out of life &                               \\
                    low sex drive (loss of libido) &  low sex drive;loss of libido \\
                                    lack of energy &                lack of energy \\
        having no motivation or interest in things &        no motivation;interest \\
                                   disturbed sleep &                               \\
                   changes to your menstrual cycle &                               \\
                     avoiding contact with friends &                               \\
                                 suicidal thoughts &             suicidal thoughts \\
having difficulties in your home, work or famil... &                               \\
            taking part in fewer social activities &                               \\
         moving or speaking more slowly than usual &                               \\
            finding it difficult to make decisions &                               \\
                     feeling hopeless and helpless &              feeling hopeless \\
                      thoughts of harming yourself &                               \\
      finding it difficult to fall asleep at night &                               \\
                              feeling guilt-ridden &                 feeling guilt \\
                               continuous low mood &                      low mood \\
                                      constipation &                  constipation \\
                                   feeling tearful &                       tearful \\
             neglecting your hobbies and interests & interests;interest;neglecting \\
                                           sadness &                               \\
                                   low self-esteem &                               \\
        feeling irritable and intolerant of others &             feeling irritable \\
                        feeling anxious or worried &                       worried \\
                     changes in appetite or weight &           changes in appetite \\
                       unexplained aches and pains &                   aches;pains \\
               waking up very early in the morning &                               \\
\bottomrule
\end{tabular}
\caption{manuell erstellte Wissensrepräsentation verglichen mit vom MedExtractor gefundenen Entitäten}
\label{tab:vergleich_manuell_medextractor}
\end{center}
\end{table}

Als Beispiel wird hier die Auswertung des Depressionstextes angeführt. In Tabelle \ref{tab:vergleich_manuell_medextractor} ist gegenübergestellt, welchen Entitäten in der manuell erstellten Wissensrepräsentation Entsprechungen in der MedExtractor-Wissens\-reprä\-sentation gegenüberstehen. Die Gesamtanzahl Symptome in der manuell erstellten Datei (entspricht True Positives + False Positives) beträgt 27. Von diesen 27 manuell ermittelten Symptomen wurden vom MedExtractor 14 Symptome in Teilen erkannt (teilweise erkannte Symptome werden in dieser Evaluierung als positiv erkannt gezählt). Damit ergibt sich eine Precision von 52\%.



\begin{table}
\begin{center}
\begin{tabular}{ll}
\toprule
  MedExtractor-Symptom &                       Manuell extrahiertes Symptom \\
\midrule
        lack of energy &                                     lack of energy \\
             interests &              neglecting your hobbies and interests \\
               worried &                         feeling anxious or worried \\
              low mood &                                continuous low mood \\
      feeling hopeless &                      feeling hopeless and helpless \\
         no motivation &         having no motivation or interest in things \\
     suicidal thoughts &                                  suicidal thoughts \\
              interest & having no motivation or interest in things;negl... \\
   changes in appetite &                      changes in appetite or weight \\
                 aches &                        unexplained aches and pains \\
         low sex drive &                     low sex drive (loss of libido) \\
         feeling guilt &                               feeling guilt-ridden \\
          constipation &                                       constipation \\
                 pains &                        unexplained aches and pains \\
        loss of libido &                     low sex drive (loss of libido) \\
            neglecting &              neglecting your hobbies and interests \\
psychological symptoms &                                                    \\
       low self esteem &                                                    \\
               tearful &                                    feeling tearful \\
     feeling irritable &         feeling irritable and intolerant of others \\
\bottomrule
\end{tabular}
\caption{Vom MedExtractor gefundene Entitäten verglichen mit den Entsprechungen in der manuell erstellten Wissensrepräsentation}
\label{tab:vergleich_medextractor_manuell}
\end{center}
\end{table}

Umgekehrt stellt Tabelle \ref{tab:vergleich_medextractor_manuell} dar, welchen Entitäten in der manuell erstellten Wissensrepräsentation die vom MedExtractor gefundenen Entitäten entsprechen. Der MedExtractor hat insgesamt 20 Symptome gefunden (entspricht True Positives + False Positives). 18 dieser Symptome entsprechen Symptomen, die in der manuell erstellten Datei enthalten sind (True Positives) und 2 der vom MedExtractor gefundenen Symptome sind nicht in der manuell erstellten Datei enthalten (False Positives). Damit ergibt sich ein Recall von 90\% und aus Precision und Recall ein F-Maß von 0,659.

Von den beiden False Positives ist „psychological symptoms“ kein Symptom an sich und „low self esteem“ ist in der Form als „low self-esteem“ im ursprünglichen Text und daher auch in der manuellen Datei enthalten, aber bei der Vorverarbeitung des MedExtractors wurden die Bindestriche entfernt, und deshalb konnte diese Übereinstimmung nicht gefunden werden.


Tabelle \ref{tab:precision_recall} führt die Auswertungsergebnisse aller Beispieltexte an (die Auswertungstabellen der hier nicht detailliert angeführten Texte finden sich im Anhang \ref{ch:Anhang}. Bei der Durchsicht der XML-Dateien fiel auf, dass die Dateien für Klaustrophobie und Stress keine Einträge enthielten. Die Ursache dafür ist, dass beide Erkrankungen nicht in der Trainingsdatei der Erkrankungen enthalten sind. Um zu untersuchen, welche Ergebnisse erzielt werden, wenn die Krankheit doch erkannt wird, wurden die Namen der Krankheiten manuell im Vokabular ergänzt und der MedExtractor erneut ausgeführt. Für Klaustrophobie ergeben sich dann gute Werte. Bei Stress jedoch ist kein nennenswerter Unterschied festzustellen, da Stress sowohl Krankheit als auch Symptom sein kann.

Insgesamt sind die Precision-Werte relativ hoch, die Recall und F-Maß-Werte hingegen nicht. Dies erklärt sich damit, dass die manuell ermittelten Symptome teilweise sehr komplex sind und vom MedExtractor in dieser Form nicht erkannt werden können.

\begin{table}
\begin{center}
\begin{tabular}{llllll}
\toprule
            Text & No.        		 & No. entries              & Precision & Recall & F \\
             & entries           & entries             		& 			& 		 &\\          
                 & manual            &  MedExtr.            &           &   	&      \\
\midrule
      Depression &                 27 &                       20 &     0.900 &  0.519 &     0.658 \\
Anxiety Disord. &                 42 &                       16 &     0.500 &  0.214 &     0.300\\
         Bulimia &                 25 &                        5 &     0.800 &  0.160 &     0.267\\
  Claustrophobia &                 37 &                   0 / 42 & 0.0 / 0.905 & 0.0 / 0.541 & 0.0 / 0.677\\
        Dementia &                 21 &                       15 &     0.267 &  0.143 &     0.186\\
 Eating Disorders &                 41 &                        5 &     0.600 &  0.049 &     0.090\\
   Panic Disorder &                 24 &                        5 &     0.800 &  0.167 &     0.276\\
       Psychosis &                 22 &                        5 &     1.000 &  0.182 &     0.308\\
   Social Anxiety &                 16 &                        3 &     0.000 &  0.000 & 0.000  \\
          Stress &                 18 &                    0 / 1 & 0.0 / 0.0 & 0.0 / 0.0 & 0.0 / 0.0\\
\midrule
       MEAN &                27.33 &     9.75 & 0.48 & 0.16 & 0.23 \\
\bottomrule
\end{tabular}
\caption{Precision, Recall und F-Maß der Beispieltexte}
\label{tab:precision_recall}
\end{center}
\end{table}




